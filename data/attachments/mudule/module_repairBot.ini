
[core]
@global heal: 25
@global heal_AoE: 220
@global Rpulse: 2
@global heal_reduction: 0.5


name: module_RepairBot
copyFrom: common_slot.ini, ROOT:data\effects\repair_effect.template

displayText: Repair Bot 
displayDescription: [Support Module]\n-Repair Bot\n-Increase unit self repair rate
displayText_ru: Рем. Бот
displayDescription_ru: [Модуль поддержки] \n Увеличивает или добавляет самостоятельное лечение техники
displayText_zh: 修复程序
displayDescription_zh: [支援模块]\n-修复机器人\n-提高机组自修复效率

price: ${Mprice_II}
maxHp: 2000


canRepairBuildings: true
canRepairUnits : true
autoRepair: true
nanoBuildSpeed: 0.5
nanoRange: 10
nanoRepairSpeed: 0.25

tags: module+
[action_passive]
displayType: infoOnlyNoBox
isVisible: true
buildSpeed: 0s
textAddUnitName: ${core.name}
descriptionAddFromUnit: ${core.name} 
descriptionAddUnitStats: ${core.name} 
iconImage: rep.png
pos: 10

[action_UPGRADE]
convertTo: module_RepairBot_T2
displayType: upgrade
price: 3200
text: Repair Bot T2
description: - Increase unit self repair rate by 100% \n +190 nano range |can be toggle range|\n-Can build structures
text_ru: Рем. Бот Т2
description_ru: Улучшает самолечение на 100% \n- Радиус лечения увеличивается на 190, а также бот начинает строить некоторые здания. 
text_zh: 修复站 T2
description_zh: - 将单位自修复率提高100%\n+190纳米范围|可以切换范围|\n-可以构建建筑
buildSpeed: 23s
pos: 0

iconExtraImage: ROOT:data\icons\icon_upgrade_topII.png
iconExtraIsVisible: true

spawnEffects: CUSTOM:ShieldParticle*5,CUSTOM:ShieldParticle2*5,CUSTOM:shieldwave,CUSTOM:Light

[action_UPGRADE2]
convertTo: module_repaipulse
#-----------------
isLocked: if not self.globalTeamTags(includes='module_II')
isLockedMessage: Requires research: Module II.... BRUH
isLockedMessage_ru: Необходимо исследование: Модули II
isLockedMessage_zh: 需要研究: 模块 II.... BRUH
#-----------------

displayType: upgrade
price: 6000
text: Repair Pulse
description: - [Support Module]\n-Heals nearby units and parent mech in ${heal_AoE} AoE\n-Healing depends on distance from the unit\n ${heal}hp for every ${Rpulse} seconds\n -Has T1 Repair Bot
text_ru: Рем-Пульсация 
description_ru: [ Модуль Поддержки ] \n Лечит технику с помощью выпускаемого роя наномашин в радиусе 220 \n - Эффективность лечения зависит от дальности расположения лечимой техники; Каждый рой восстанавливает 25 ОЗ \n Также, имеет Т1 рем. Бота.
text_zh: 修复脉冲
description_zh: -[支援模块]\n-在${heal_AoE}范围中治疗附近的单位和机甲\n-治疗取决于每${Rpulse}秒与单位的距离\n${heal}耐久\n-有T1维修机器人

buildSpeed: 20s
pos: 0

iconExtraImage: ROOT:data\icons\icon_upgrade_topII.png
iconExtraIsVisible: true

spawnEffects: CUSTOM:ShieldParticle*5,CUSTOM:ShieldParticle2*5,CUSTOM:shieldwave,CUSTOM:Light
#===================================================
[action_reclaim]
description: -Free up slot for another module type.\n-Refund ${Mprice_II*0.5} credits
description_ru: - Освободить слот для другого модуля\n- Вернёт ${Mprice_II*0.5} ресурсов.
description_zh: -为其他模块类型释放空间\n-退款${Mprice_II*0.5}资金
addResources: credits=${Mprice_II*0.5}
#===================================================
[graphics]
#isVisible: if not self.hasParent()
image:        SHARED:blank.png
#image_turret: ROOT:data\null.png
#scaleTurretImagesTo: 1.1

image_shadow: NONE
shadowOffsetX:3
shadowOffsetY:3

showEnergyBar: false
[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false
[turret_1]
#dummy
x: 0
y: 0

size: 0
turnSpeed: 2
canShoot: false

idleSweepAddRandomAngle:150
idleSweepAngle:40
idleSweepDelay:100
idleSweepAddRandomDelay: 100
idleSweepSpeed:2
[turret_nano1]
#nano turret
x: 0
y: 30
attachedTo: 1
slave: false
turnSpeed: 3

size: 0
invisible: if not self.hasParent()
image: rep_eye.png

canShoot: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

isMainNanoTurret: true

idleSweepAddRandomAngle:150
idleSweepAngle:140
idleSweepDelay:20
idleSweepAddRandomDelay: 60
idleSweepSpeed:4

[arm_1]
x:0
y:0
endDirOffset: 0
image_end:rep.png
drawOverBody: true
hidden:if self.hasParent()
image_end_teamColors: true
[ai]
useAsBuilder: true

