
[core]
name: module_mechBuildert1
copyFrom: common_slot.ini

displayText: Mech Builder
displayDescription: [Support Module]\n- Can Build BGC T1 mechs \n- Can temporarily store up to 4 units\n- When Install provides 500 starting shield\nNote: Removing Module -500 shield
displayText_ru: Мини-завод
displayDescription_ru: [Модуль поддержки] \n Может производить все I типы войск ВГС \n - Может служить вместилищем производимых войск [макс. 4] 
displayText_zh: 机甲建造者
displayDescription_zh: [支持模块]\n-可以构建BGC T1机甲\n-可以临时存储最多4个单位\n-安装时提供500护盾\n注意：删除模块-500护盾

maxHp: 2000
price: ${Mprice_I2}
buildSpeed: 0.001
tags: module+, mechBuildert1

transportUnitsKeepBuiltUnits: true
transportUnitsUnloadDelayBetweenEachUnit: 10
transportUnitsCanUnloadUnits: if not self.isOverLiquid()
transportUnitsAddUnloadOption: false
maxTransportingUnits: 4
exit_x:0
exit_y:15
exit_dirOffset:0
exit_moveAwayAmount:50
[action_unload]
isActive: if not self.isOverLiquid()
text: Unload
text_ru: Выгрузить
buildSpeed: 0s
startUnloadingTransport: true
pos: 0.1
highPriorityQueue: true
addResources: unsetFlag=0
[action_store]
isVisible: if not self.hasFlag(id=0)
isLocked: if self.queueSize() > 4
isLockedMessage: No! 
isLockedMessage_ru: Нельзя!
isLockedMessage_zh: 不! 
text: Store Built unit
description: -Automatically unload unit if enemy unit nearby
text_ru: Хранилище [ВЫКЛ]
description_ru:- Помещает производимые единицы во встроенное хранилище\n- Автоматически выгрузит, если враг будет рядом.
text_zh: 存储建造单位
description_zh: -如果附近有敌人，自动卸载单位

buildSpeed: 0s
highPriorityQueue: true
addResources: setFlag=0
pos: 1
[action_storeN]
isVisible: if self.hasFlag(id=0)
text: Store Built unit
description: -Automatically unload unit if enemy unit nearby
text_ru: Хранилище [ВКЛ]
description_ru:- Помещает производимые единицы во встроенное хранилище\n- Автоматически выгрузит, если враг будет рядом.
text_zh: 存储建造单位
description_zh: -如果附近有敌人，自动卸载单位
isGuiBlinking: if self.hasFlag(id=0)
buildSpeed: 0s
highPriorityQueue: true
addResources: unsetFlag=0
pos: 1



###############################BGC mech module extractor teleport code##############################
[action_teleportBGCextractorlikeAChampion]
isVisible: if self.numberOfUnitsInTeam(withTag='bgcExtractor', withinRange=7, greaterThan=0)
isLocked: if self.self.transportingCount(lessThan=1)
isLockedMessage: NO UNITS AVAILABLE TO TELEPORT
isLockedMessage_ru: Поблизости нет техники для телепортации!
fireTurretXAtGround: bgctp
fireTurretXAtGround_onlyOverPassableTileOf: LAND
highPriorityQueue: true
price: 0
text: Teleport
description: -Teleport units, to a nearby area at a max range of 230
text_ru: Телепортировать
description_ru: - Телепортирует технику в ближайшую зону в радиусе 230.
text_zh:传送
description_zh: -以230的最大射程将单位传送到附近区域
displayType: action
buildSpeed: 1s

[action_teleportBGCcommandcentertp]
isVisible: if self.numberOfUnitsInTeam(withTag='gateway', withinRange=7, greaterThan=0)
isLocked: if self.self.transportingCount(lessThan=1)
isLockedMessage: NO UNITS AVAILABLE TO TELEPORT
isLockedMessage_ru: Поблизости нет техники для телепортации!
isLockedMessage_zh: 无单位可用于传送
fireTurretXAtGround: bgctpCC
text: Teleport
description: -Teleport units, to a nearby area at a max range of 310
text_ru: Телепортировать
description_ru: - Телепортирует технику в ближайшую зону в радиусе 310.
text_zh: 传送
description_zh: -远程传送部队，以最大310的射程到达附近地区
displayType: action
buildSpeed: 1s
highPriorityQueue: true

[effect_teleport]
life: 60
showInFog: true
xOffsetRelative: 0
yOffsetRelative: 0
hOffset: 0
dirOffset: 360


fadeInTime: 0
fadeOut: false

attachedToUnit: false


image:ROOT:data\images\teleportsmoll.png
total_frames: 12
animateFrameStart: 0
animateFrameEnd: 11
animateFramePingPong: false
animateFrameSpeed: 0.5
animateFrameSpeedRandom: 0.2

alpha:1

[turret_bgctpCC]
@copyFromSection:turret_bgctp
limitingRange: 310
[turret_bgctp]

x: 0
y:0
projectile: tp
turnSpeed: 2
turnSpeedAcceleration: 1.0

limitingRange: 230
showRangeUIGuide: true 

#shoot_sound: tp.ogg
#shoot_sound_vol:0.4
shoot_flame: NONE
shoot_light: #00E7E1
canShoot: false
invisible:true
recoilOffset: -2
recoilOutTime: 3
recoilReturnTime: 10

[projectile_tp]

targetGround: true
directDamage: 1
unloadUpToXUnitsFromSource: 4
life: 300
drawType: 1
frame: 1
speed:50
drawSize:0
deflectionPower: -1
explodeEffect: CUSTOM:teleport*1


##################################BGC mech builder extractor TP###############################
[canBuild_t1Mechs]
#or (self.queueSize() > 0 and self.transportingCount() > 2)
#this fix overflowing transport no gay shit
isLocked: if ((self.queueSize() > 3 and self.transportingCount() < 1) or (self.queueSize() > 2 and self.transportingCount() > 0) or (self.queueSize() > 1 and self.transportingCount() > 1) or (self.queueSize() > 0 and self.transportingCount() > 2) or self.transportingCount() > 3) and self.hasFlag(id=0)
isLockedMessage: Can Only store 4 units
isLockedMessage_ru: Вместить можно только 4 единицы техники
name: mini_MT, BeamCrab
pos: 2
[action_lbug]
#or (self.queueSize() > 0 and self.transportingCount() > 2)
#this fix overflowing transport no gay shit
isLocked: if ((self.queueSize() > 3 and self.transportingCount() < 1) or (self.queueSize() > 2 and self.transportingCount() > 0) or (self.queueSize() > 1 and self.transportingCount() > 1) or (self.queueSize() > 0 and self.transportingCount() > 2) or self.transportingCount() > 3) and self.hasFlag(id=0)
isLockedMessage: Can Only store 4 units
isLockedMessage_ru: Вместить можно только 4 единицы техники
displayType: queueUnit
textAddUnitName: L_bug_Aie
descriptionAddFromUnit: L_bug_Aie
descriptionAddUnitStats: L_bug_Aie
price: 700
buildSpeed: 5s
unitShownInUI: L_bug_Aie
produceUnits: L_bug_Aie
pos: 3
[canBuild_t1Mechs2]
#or (self.queueSize() > 0 and self.transportingCount() > 2)
#this fix overflowing transport no gay shit
isLocked: if ((self.queueSize() > 3 and self.transportingCount() < 1) or (self.queueSize() > 2 and self.transportingCount() > 0) or (self.queueSize() > 1 and self.transportingCount() > 1) or (self.queueSize() > 0 and self.transportingCount() > 2) or self.transportingCount() > 3) and self.hasFlag(id=0)
isLockedMessage: Can Only store 4 units
isLockedMessage_ru: Вместить можно только 4 единицы техники
name:basicII, MiniMLRS, MimiVLS, miniBertha, RepairMech, MiniNapalm
pos: 4
[hiddenAction_unloadAuto]
autoTriggerOnEvent: transportingNewUnit
requireConditional: if not self.hasFlag(id=0) or self.transportingCount() > 4
startUnloadingTransport: true
[hiddenAction_unloadAuto_enemyinrange]
autoTrigger: if self.hasFlag(id=0) and self.transportingCount()>0 and self.numberOfUnitsInEnemyTeam(withinRange=250)>0 and not self.isOverLiquid()
startUnloadingTransport: true

[action_reclaim]
takeResources: shield=500
takeResources_includeParent: true
takeResources_discardCollected: true

description: -Free up slot for another module type.\n-Refund ${Mprice_I2*0.5} credits
description_ru: - Освободить слот для другого модуля\n- Вернёт ${Mprice_I2*0.5} ресурсов.

addResources: credits=${Mprice_I2*0.5}
#===================================================
[graphics]
#isVisible: if not self.hasParent()
image:        SHARED:blank.png

#image_turret: 20
image_shadow: NONE
shadowOffsetX:3
shadowOffsetY:3

showEnergyBar: false
[attack]
canAttack: false
[arm_1]
x:0
y:0
endDirOffset: -90
image_end:mechBuilder.png
drawOverBody: true
hidden:if self.hasParent()
image_end_teamColors: true


