
[core]
dont_load:true
copyFrom: ROOT:data\effects\shieldEffect.template
class: CustomUnitMetadata
#price: 2
price: 1000
tags: ex-tank_main_attachment_Empty
showInEditor: false
maxHp: 3000
mass: 10000
techLevel: 1
buildSpeed: 1s
radius: 15
displayRadius:12
fogOfWarSightRange:5
transportSlotsNeeded: 1
isBio: false
softCollisionOnAll: 3
showOnMinimap: false
#canNotBeDirectlyAttacked: true
isUnrepairableUnit: true
ignoreInUnitCapCalculation: true
disableDeathOnZeroHp: true
isUnselectable: true
isUnselectableAsTarget: false
selfRegenRate: 0.2
selfBuildRate: 1

energyMax: 10
energyRegen: 0
energyStartingPercentage: 0

tags: FreeSlot
[hiddenAction_createCreditsMessage]
@copyFrom_skipThisSection: true

[hiddenAction_convertOnDeath]
autoTriggerOnEvent: tookDamage
requireConditional: if self.hp(lessThan=1)
convertTo: module_attachment
setBuilt:1

addResources: unsetFlag=0-31
[hiddenAction_unInstall]
#autoTrigger: if self.hasParent(withTag='RemoveMod') and not self.hasFlag(id=31)
autoTriggerOnEvent: newMessage(withTag="RemoveMod")
#requireConditional: if self.hasParent(withTag='modMech')
alsoTriggerAction: reclaim

##############################################################################################
[hiddenAction_moduleSlot_tagGenerator_1]
autoTrigger: if self.hasFlag(id=21) and not self.tags(includes='moduleSel_1')
temporarilyAddTags: moduleSel_1
debugMessage: tags: moduleSel_1 generated!
[hiddenAction_moduleSlot_tagGenerator_2]
autoTrigger: if self.hasFlag(id=22) and not self.tags(includes='moduleSel_2')
temporarilyAddTags: moduleSel_2
debugMessage: tags: moduleSel_2 generated!
[hiddenAction_moduleSlot_tagGenerator_3]
autoTrigger: if self.hasFlag(id=23) and not self.tags(includes='moduleSel_3')
temporarilyAddTags: moduleSel_3
debugMessage: tags: moduleSel_3 generated!
[hiddenAction_moduleSlot_tagGenerator_4]
autoTrigger: if self.hasFlag(id=24) and not self.tags(includes='moduleSel_4')
temporarilyAddTags: moduleSel_4
debugMessage: tags: moduleSel_4 generated!
##############################################################################################
[hiddenAction_triggerUninstall_module_1]
autoTriggerOnEvent: newMessage(withTag="moduleUninstall_1")
requireConditional: if self.hasFlag(id=21) and self.queueSize<1
alsoTriggerAction: reclaim
[hiddenAction_triggerUninstall_module_2]
autoTriggerOnEvent: newMessage(withTag="moduleUninstall_2")
requireConditional: if self.hasFlag(id=22) and self.queueSize<1
alsoTriggerAction: reclaim
[hiddenAction_triggerUninstall_module_3]
autoTriggerOnEvent: newMessage(withTag="moduleUninstall_3")
requireConditional: if self.hasFlag(id=23) and self.queueSize<1
alsoTriggerAction: reclaim
[hiddenAction_triggerUninstall_module_4]
autoTriggerOnEvent: newMessage(withTag="moduleUninstall_4")
requireConditional: if self.hasFlag(id=24) and self.queueSize<1
alsoTriggerAction: reclaim

[action_reclaim]
isVisible: false
buildSpeed: 1s
text: Uninstall Module
description: -Free up slot for another module type.\n-Refund 50% 
text_ru: Убрать Модуль
description_ru: - Освобождает слот для другого модуля\n- Возвращает 50% ресурсов.
text_zh: 卸载模块
description_zh: -为其他模块类型释放插槽\n-退款50%
#convertTo: module_attachment
iconExtraImage: ROOT:data\icons\undeploy.png
iconExtraColor: #AAFFFFFF
#spawnEffects: CUSTOM:Soul
highPriorityQueue: true
playSoundAtUnit: ROOT:data\soundFx\interface_remove_turret.ogg
alsoTriggerAction: convertTo_module_attachment_1, convertTo_module_attachment_2, convertTo_module_attachment_3, convertTo_module_attachment_4


[hiddenAction_convertTo_module_attachment_1]
requireConditional: if self.hasFlag(id=21)
convertTo: module_attachment_1
addResources: unsetFlag=0-31
[hiddenAction_convertTo_module_attachment_2]
requireConditional: if self.hasFlag(id=22)
convertTo: module_attachment_2
addResources: unsetFlag=0-31
[hiddenAction_convertTo_module_attachment_3]
requireConditional: if self.hasFlag(id=23)
convertTo: module_attachment_3
addResources: unsetFlag=0-31
[hiddenAction_convertTo_module_attachment_4]
requireConditional: if self.hasFlag(id=24)
convertTo: module_attachment_4
addResources: unsetFlag=0-31
##############################################################################################
[graphics]
total_frames: 1

image:        SHARED:blank.png
image_wreak:  NONE
image_turret: NONE

image_shadow: AUTO
shadowOffsetX:3
shadowOffsetY:3
drawLayer: air
teamColorsOnTurret: true
#teamColoringMode: disabled
icon_zoomed_out_neverShow: true
showHealthBar: false
showEnergyBar: false
[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
turretMultiTargeting: true
turretSize: 30
turretTurnSpeed: 2
maxAttackRange: 310
shootDelay: 85
[effect_ShieldParticle]
drawUnderUnits:false
scaleFrom:0.5
scaleTo:0.1

[effect_ShieldParticle2]
drawUnderUnits:false
scaleFrom:0.5
scaleTo:0.1
[effect_shieldwave]
drawUnderUnits:false
scaleFrom: 0.5
scaleTo: 0
[effect_Light]
drawUnderUnits:false
scaleFrom: 1
scaleTo: 1

[movement]
movementType: NONE
[ai]
ai_upgradePriority: 0.5




